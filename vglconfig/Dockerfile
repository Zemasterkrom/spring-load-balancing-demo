FROM openjdk:8-jdk-alpine

ENV SERVER_PORT=${SERVER_PORT}
ENV GIT_CONFIG_REPOSITORY=${GIT_CONFIG_REPOSITORY}
ENV GIT_CONFIG_BRANCH=${GIT_CONFIG_BRANCH}
ARG JAR_FILE=target/*.jar
COPY ${JAR_FILE} app.jar
EXPOSE ${SERVER_PORT}

ENTRYPOINT ["java","-jar","/app.jar", "-DSERVER_PORT=${SERVER_PORT}", "-DGIT_CONFIG_REPOSITORY=${GIT_CONFIG_REPOSITORY}", "-DGIT_CONFIG_BRANCH=${GIT_CONFIG_BRANCH}"]